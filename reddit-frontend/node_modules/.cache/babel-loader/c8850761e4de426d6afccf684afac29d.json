{"remainingRequest":"/Users/samarth.gu/Desktop/Frontend/Reddit-Prototype-Frontend/reddit-frontend/node_modules/babel-loader/lib/index.js!/Users/samarth.gu/Desktop/Frontend/Reddit-Prototype-Frontend/reddit-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/samarth.gu/Desktop/Frontend/Reddit-Prototype-Frontend/reddit-frontend/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/samarth.gu/Desktop/Frontend/Reddit-Prototype-Frontend/reddit-frontend/src/components/Sidebar/TopCommunities.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/samarth.gu/Desktop/Frontend/Reddit-Prototype-Frontend/reddit-frontend/src/components/Sidebar/TopCommunities.vue","mtime":1615116206793},{"path":"/Users/samarth.gu/Desktop/Frontend/Reddit-Prototype-Frontend/reddit-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1613482309693},{"path":"/Users/samarth.gu/Desktop/Frontend/Reddit-Prototype-Frontend/reddit-frontend/node_modules/babel-loader/lib/index.js","mtime":1613482309608},{"path":"/Users/samarth.gu/Desktop/Frontend/Reddit-Prototype-Frontend/reddit-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1613482309693},{"path":"/Users/samarth.gu/Desktop/Frontend/Reddit-Prototype-Frontend/reddit-frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1613482313073}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL3NhbWFydGguZ3UvRGVza3RvcC9Gcm9udGVuZC9SZWRkaXQtUHJvdG90eXBlLUZyb250ZW5kL3JlZGRpdC1mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBUb3BJdGVtIGZyb20gIi4vVG9wSXRlbSI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBMb2dpbk1vZGFsIGZyb20gJy4uL01vZGFsL0xvZ2luTW9kYWwnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1RvcENvbW11bml0aWVzJywKICBjb21wb25lbnRzOiB7CiAgICBUb3BJdGVtOiBUb3BJdGVtLAogICAgTG9naW5Nb2RhbDogTG9naW5Nb2RhbAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNvbW11bml0aWVzOiBudWxsLAogICAgICBzaG93TG9naW5Nb2RhbDogZmFsc2UsCiAgICAgIGlzQXV0aGVudGljYXRlZDogZmFsc2UKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBheGlvcy5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9hcGkvY29tbXVuaXR5L3RvcD9jb3VudD01JykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgcmV0dXJuIF90aGlzLmNvbW11bml0aWVzID0gcmVzcG9uc2UuZGF0YTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgdm90ZTogZnVuY3Rpb24gdm90ZShpbmRleCwgYWRkKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIShsb2NhbFN0b3JhZ2UuaXNBdXRoZW50aWNhdGVkID09PSAidHJ1ZSIpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCdodHRwOi8vbG9jYWxob3N0OjgwODAvYXBpL2NvbW11bml0eS92b3RlL3VzZXIvJyArIGxvY2FsU3RvcmFnZS51c2VySWQgKyAnL2NvbW11bml0eS8nICsgX3RoaXMyLmNvbW11bml0aWVzW2luZGV4XS5pZCArICc/YWRkPScgKyBhZGQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgaWYgKGFkZCkgewogICAgICAgICAgICAgICAgICBfdGhpczIuY29tbXVuaXRpZXNbaW5kZXhdLnZvdGVzKys7CiAgICAgICAgICAgICAgICAgIGlmIChpbmRleCAhPSAwICYmIF90aGlzMi5jb21tdW5pdGllc1tpbmRleF0udm90ZXMgPiBfdGhpczIuY29tbXVuaXRpZXNbaW5kZXggLSAxXS52b3RlcykgX3RoaXMyLiRlbWl0KCJmb3JjZVJlcmVuZGVyIik7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczIuY29tbXVuaXRpZXNbaW5kZXhdLnZvdGVzLS07CiAgICAgICAgICAgICAgICAgIGlmIChpbmRleCAhPSA0ICYmIF90aGlzMi5jb21tdW5pdGllc1tpbmRleF0udm90ZXMgPCBfdGhpczIuY29tbXVuaXRpZXNbaW5kZXggKyAxXS52b3RlcykgX3RoaXMyLiRlbWl0KCJmb3JjZVJlcmVuZGVyIik7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX3RoaXMyLnNob3dMb2dpbk1vZGFsRnVuYyh0cnVlKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNob3dMb2dpbk1vZGFsRnVuYzogZnVuY3Rpb24gc2hvd0xvZ2luTW9kYWxGdW5jKHZhbHVlKSB7CiAgICAgIC8vdGhpcy5zaG93UmVnaXN0ZXJNb2RhbD0hKHZhbHVlKTsKICAgICAgdGhpcy5zaG93TG9naW5Nb2RhbCA9IHZhbHVlOwogICAgICBjb25zb2xlLmxvZygic2hvd2xvZ2lubW9kYWxmdW5jIiwgdGhpcy5zaG93TG9naW5Nb2RhbCk7CiAgICB9LAogICAgdG9nZ2xlSXNBdXRoZW50aWNhdGVkOiBmdW5jdGlvbiB0b2dnbGVJc0F1dGhlbnRpY2F0ZWQoKSB7CiAgICAgIHRoaXMuaXNBdXRoZW50aWNhdGVkID0gIXRoaXMuaXNBdXRoZW50aWNhdGVkOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/Users/samarth.gu/Desktop/Frontend/Reddit-Prototype-Frontend/reddit-frontend/src/components/Sidebar/TopCommunities.vue"],"names":[],"mappings":";;AAmBA,OAAO,OAAP,MAAoB,WAApB;AACA,OAAO,KAAP,MAAkB,OAAlB;AACA,OAAO,UAAP,MAAuB,qBAAvB;AAEA,eAAe;AACd,EAAA,IAAI,EAAE,gBADQ;AAEd,EAAA,UAAU,EAAE;AACX,IAAA,OAAO,EAAP,OADW;AAEX,IAAA,UAAS,EAAT;AAFW,GAFE;AAMd,EAAA,IANc,kBAMP;AACN,WAAO;AACN,MAAA,WAAW,EAAE,IADP;AAEN,MAAA,cAAc,EAAE,KAFV;AAGN,MAAA,eAAe,EAAE;AAHX,KAAP;AAKA,GAZa;AAad,EAAA,OAbc,qBAaJ;AAAA;;AACT,IAAA,KAAI,CACH,GADD,CACK,iDADL,EAEC,IAFD,CAEO,UAAA,QAAO;AAAA,aAAM,KAAI,CAAC,WAAL,GAAmB,QAAQ,CAAC,IAAlC;AAAA,KAFd;AAGA,GAjBa;AAkBd,EAAA,OAAO,EAAE;AACF,IAAA,IADE,gBACG,KADH,EACU,GADV,EACe;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAClB,YAAY,CAAC,eAAb,KAAiC,MADf;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAEf,KAAI,CACT,IADK,CACA,mDAAiD,YAAY,CAAC,MAA9D,GAAqE,aAArE,GAAmF,MAAI,CAAC,WAAL,CAAiB,KAAjB,EAAwB,EAA3G,GAA8G,OAA9G,GAAsH,GADtH,EAEL,IAFK,CAEA,UAAA,QAAO;AAAA,yBAAM,OAAO,CAAC,GAAR,CAAY,QAAZ,CAAN;AAAA,iBAFP,CAFe;;AAAA;AAKrB,oBAAI,GAAJ,EAAU;AACT,kBAAA,MAAI,CAAC,WAAL,CAAiB,KAAjB,EAAwB,KAAxB;AACA,sBAAI,KAAI,IAAK,CAAT,IAAc,MAAI,CAAC,WAAL,CAAiB,KAAjB,EAAwB,KAAxB,GAAgC,MAAI,CAAC,WAAL,CAAiB,KAAK,GAAC,CAAvB,EAA0B,KAA5E,EACC,MAAI,CAAC,KAAL,CAAW,eAAX;AACF,iBAJA,MAKK;AACJ,kBAAA,MAAI,CAAC,WAAL,CAAiB,KAAjB,EAAwB,KAAxB;AACA,sBAAI,KAAI,IAAK,CAAT,IAAc,MAAI,CAAC,WAAL,CAAiB,KAAjB,EAAwB,KAAxB,GAAgC,MAAI,CAAC,WAAL,CAAiB,KAAK,GAAC,CAAvB,EAA0B,KAA5E,EACC,MAAI,CAAC,KAAL,CAAW,eAAX;AACF;;AAdqB;AAAA;;AAAA;AAiBrB,gBAAA,MAAI,CAAC,kBAAL,CAAwB,IAAxB;;AAjBqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAmBtB,KApBO;AAqBR,IAAA,kBArBQ,8BAqBW,KArBX,EAqBkB;AACzB;AACS,WAAK,cAAL,GAAoB,KAApB;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,oBAAZ,EAAkC,KAAK,cAAvC;AACT,KAzBO;AA0BR,IAAA,qBA1BQ,mCA0BgB;AACd,WAAK,eAAL,GAAuB,CAAE,KAAK,eAA9B;AACH;AA5BC;AAlBK,CAAf","sourcesContent":["<template>\n<div>\n\t<div id=\"topCommunities\">\n\t\t<div class=\"header\">\n\t\t\t<h2 class=\"banner\"> Top Communities </h2>\n\t\t</div>\n\t\t<ol>\n\t\t\t<li class=\"list\" :key=\"item.id\" v-for=\"(item,index) in communities\">\n\t\t\t\t<TopItem :item=\"item\" :index=\"index\" @vote=\"vote\"></TopItem>\n\t\t\t</li>\n\t\t</ol>\n\t</div>\n\t<div v-if=\"showLoginModal===true\">\n\t <LoginModal @showLoginModalFunc=\"showLoginModalFunc\" @toggleIsAuthenticated=\"toggleIsAuthenticated\" :showLoginModal=\"showLoginModal\" :isAuthenticated=\"isAuthenticated\"> </LoginModal>\n\t</div>\n\t</div>\n</template>\n\n<script>\nimport TopItem from \"./TopItem\"\nimport axios from 'axios'\nimport LoginModal from '../Modal/LoginModal'\n\nexport default {\n\tname: 'TopCommunities',\n\tcomponents: {\n\t\tTopItem,\n\t\tLoginModal\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcommunities: null,\n\t\t\tshowLoginModal: false,\n\t\t\tisAuthenticated: false,\n\t\t}\n\t},\n\tmounted() {\n\t\taxios\n\t\t.get('http://localhost:8080/api/community/top?count=5')\n\t\t.then( response => (this.communities = response.data) )\n\t},\n\tmethods: {\n\t\tasync vote(index, add) {\n\t\t\tif( localStorage.isAuthenticated === \"true\" ) {\n\t\t\t\tawait axios\n\t\t\t\t.post('http://localhost:8080/api/community/vote/user/'+localStorage.userId+'/community/'+this.communities[index].id+'?add='+add)\n\t\t\t\t.then(response => (console.log(response)));\n\t\t\t\tif( add ) {\n\t\t\t\t\tthis.communities[index].votes++;\n\t\t\t\t\tif( index != 0 && this.communities[index].votes > this.communities[index-1].votes )\n\t\t\t\t\t\tthis.$emit(\"forceRerender\");\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.communities[index].votes--;\n\t\t\t\t\tif( index != 4 && this.communities[index].votes < this.communities[index+1].votes )\n\t\t\t\t\t\tthis.$emit(\"forceRerender\");\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.showLoginModalFunc(true)\n\t\t\t}\n\t\t},\n\t\tshowLoginModalFunc(value) {\n\t\t\t//this.showRegisterModal=!(value);\n            this.showLoginModal=value;\n            console.log(\"showloginmodalfunc\", this.showLoginModal)\n\t\t},\n\t\ttoggleIsAuthenticated() {\n            this.isAuthenticated = !(this.isAuthenticated);\n        },\n\t\t\n\n\t}\n}\n</script>\n\n<style>\n#topCommunities {\n\tbackground-color: white;\n\tcolor: #1a1a1b;\n\tfill: #1a1a1b;\n\tborder: 1px solid #ccc;\n\tborder-radius: 4px;\n\toverflow: visible;\n\tjustify-content: center;\n\tmargin-bottom: 50px;\n}\n.list {\n\tborder-bottom: thin solid #edeff1;\n}\n.header {\n\tbackground-color: #0079d3;\n    background-position: 50%;\n    background-repeat: no-repeat;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    height: 80px;\n    position: relative;\n}\n.banner {\n    font-size: 16px;\n    font-weight: 500;\n    line-height: 20px;\n    bottom: 8px;\n    color: #fff;\n    left: 16px;\n    position: absolute;\n    vertical-align: baseline;\n    margin: 0;\n    padding: 0;\n    border: 0;\n    line-height: 20px;\n}\n</style>"],"sourceRoot":""}]}